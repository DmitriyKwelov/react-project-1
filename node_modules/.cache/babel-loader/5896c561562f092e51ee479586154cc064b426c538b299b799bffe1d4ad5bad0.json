{"ast":null,"code":"import _objectSpread from\"C:/Users/Kwell/Documents/GitHub/react-project-1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{authAPI}from\"../api/api\";import{stopSubmit}from\"redux-form\";import{getAuthUserData}from\"./auth-reducer\";var INITIALIZED_SUCCESS='INITIALIZED_SUCCESS';var initialState={initialized:false};var appReducer=function appReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case INITIALIZED_SUCCESS:return _objectSpread(_objectSpread({},state),{},{initialized:true});default:return state;}};export var initializedSuccess=function initializedSuccess(){return{type:INITIALIZED_SUCCESS};};export var initializeApp=function initializeApp(){return function(dispatch){var promise=dispatch(getAuthUserData());Promise.all([promise]).then(function(){dispatch(initializedSuccess());});// setTimeout(() => {\n//     dispatch(initializedSuccess())\n// }, 5000)\n};};export default appReducer;","map":{"version":3,"names":["authAPI","stopSubmit","getAuthUserData","INITIALIZED_SUCCESS","initialState","initialized","appReducer","state","action","type","initializedSuccess","initializeApp","dispatch","promise","Promise","all","then"],"sources":["C:/Users/Kwell/Documents/GitHub/react-project-1/src/redux/app-reducer.js"],"sourcesContent":["import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return  {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) =>{\r\n    let promise =  dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n    // setTimeout(() => {\r\n    //     dispatch(initializedSuccess())\r\n    // }, 5000)\r\n}\r\n\r\nexport default appReducer;"],"mappings":"oIAAA,OAAQA,OAAO,KAAO,YAAY,CAClC,OAAQC,UAAU,KAAO,YAAY,CACrC,OAAQC,eAAe,KAAO,gBAAgB,CAE9C,GAAMC,oBAAmB,CAAG,qBAAqB,CAEjD,GAAIC,aAAY,CAAG,CACfC,WAAW,CAAE,KACjB,CAAC,CAED,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAqC,IAAjCC,MAAK,2DAAGH,YAAY,IAAEI,OAAM,2CAC5C,OAAQA,MAAM,CAACC,IAAI,EACf,IAAKN,oBAAmB,CACpB,sCACOI,KAAK,MACRF,WAAW,CAAE,IAAI,GAEzB,QACI,MAAOE,MAAK,CAAC,CAEzB,CAAC,CAED,MAAO,IAAMG,mBAAkB,CAAG,QAArBA,mBAAkB,SAAU,CAACD,IAAI,CAAEN,mBAAmB,CAAC,EAAC,CAErE,MAAO,IAAMQ,cAAa,CAAG,QAAhBA,cAAa,SAAS,UAACC,QAAQ,CAAI,CAC5C,GAAIC,QAAO,CAAID,QAAQ,CAACV,eAAe,EAAE,CAAC,CAC1CY,OAAO,CAACC,GAAG,CAAC,CAACF,OAAO,CAAC,CAAC,CACjBG,IAAI,CAAC,UAAM,CACZJ,QAAQ,CAACF,kBAAkB,EAAE,CAAC,CAClC,CAAC,CAAC,CACF;AACA;AACA;AACJ,CAAC,GAED,cAAeJ,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}