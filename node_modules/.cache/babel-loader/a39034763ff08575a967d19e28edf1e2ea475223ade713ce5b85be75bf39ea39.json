{"ast":null,"code":"import _objectSpread from\"C:/Users/Kwell/Documents/GitHub/react-project-1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/Kwell/Documents/GitHub/react-project-1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Kwell/Documents/GitHub/react-project-1/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Kwell/Documents/GitHub/react-project-1/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Kwell/Documents/GitHub/react-project-1/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import Profile from\"./Profile\";import{connect}from\"react-redux\";import{getStatus,getUsersProfile,updateStatus}from\"../../redux/profile-reducer\";import{Navigate,useLocation,useNavigate,useParams}from\"react-router-dom\";import withAuthRedirect from\"../hoc/withAuthRedirect\";import{compose}from\"redux\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProfileContainer=/*#__PURE__*/function(_React$Component){_inherits(ProfileContainer,_React$Component);var _super=_createSuper(ProfileContainer);function ProfileContainer(){_classCallCheck(this,ProfileContainer);return _super.apply(this,arguments);}_createClass(ProfileContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var userId=this.props.router.params.id;if(!userId){userId=this.props.authorizedUserId;}if(!userId){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}this.props.getUsersProfile(userId);this.props.getStatus(userId);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Profile,_objectSpread(_objectSpread({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}));}}]);return ProfileContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profilePage.profile,status:state.profilePage.status,authorizedUserId:state.auth.userId,isAuth:state.auth.isAuth};};function withRouter(ProfileContainer){function ComponentWithRouterProp(props){var location=useLocation();var navigate=useNavigate();var params=useParams();return/*#__PURE__*/_jsx(ProfileContainer,_objectSpread(_objectSpread({},props),{},{router:{location:location,navigate:navigate,params:params}}));}return ComponentWithRouterProp;}export default compose(connect(mapStateToProps,{getUsersProfile:getUsersProfile,getStatus:getStatus,updateStatus:updateStatus}),withRouter,withAuthRedirect)(ProfileContainer);","map":{"version":3,"names":["React","Profile","connect","getStatus","getUsersProfile","updateStatus","Navigate","useLocation","useNavigate","useParams","withAuthRedirect","compose","ProfileContainer","userId","props","router","params","id","authorizedUserId","profile","status","Component","mapStateToProps","state","profilePage","auth","isAuth","withRouter","ComponentWithRouterProp","location","navigate"],"sources":["C:/Users/Kwell/Documents/GitHub/react-project-1/src/componnents/Profile/ProfileContainer.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUsersProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {\r\n    Navigate,\r\n    useLocation,\r\n    useNavigate,\r\n    useParams,\r\n} from \"react-router-dom\";\r\nimport withAuthRedirect from \"../hoc/withAuthRedirect\"\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component{\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.router.params.id;\r\n        if(!userId) {\r\n            userId = this.props.authorizedUserId;\r\n        }\r\n        if(!userId) {\r\n            return <Navigate to={\"/login\"}/>\r\n        }\r\n        this.props.getUsersProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nfunction withRouter(ProfileContainer) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <ProfileContainer\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, {getUsersProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n    )(ProfileContainer);"],"mappings":"woBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,QAAO,KAAM,WAAW,CAC/B,OAAQC,OAAO,KAAO,aAAa,CACnC,OAAQC,SAAS,CAAEC,eAAe,CAAEC,YAAY,KAAO,6BAA6B,CACpF,OACIC,QAAQ,CACRC,WAAW,CACXC,WAAW,CACXC,SAAS,KACN,kBAAkB,CACzB,MAAOC,iBAAgB,KAAM,yBAAyB,CACtD,OAAQC,OAAO,KAAO,OAAO,CAAC,8CAExBC,iBAAgB,sSAElB,4BAAoB,CAChB,GAAIC,OAAM,CAAG,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,CACxC,GAAG,CAACJ,MAAM,CAAE,CACRA,MAAM,CAAG,IAAI,CAACC,KAAK,CAACI,gBAAgB,CACxC,CACA,GAAG,CAACL,MAAM,CAAE,CACR,mBAAO,KAAC,QAAQ,EAAC,EAAE,CAAE,QAAS,EAAE,CACpC,CACA,IAAI,CAACC,KAAK,CAACV,eAAe,CAACS,MAAM,CAAC,CAClC,IAAI,CAACC,KAAK,CAACX,SAAS,CAACU,MAAM,CAAC,CAChC,CAAC,sBAED,iBAAS,CACL,mBACI,KAAC,OAAO,gCAAK,IAAI,CAACC,KAAK,MAAE,OAAO,CAAE,IAAI,CAACA,KAAK,CAACK,OAAQ,CAAC,MAAM,CAAE,IAAI,CAACL,KAAK,CAACM,MAAO,CAAC,YAAY,CAAE,IAAI,CAACN,KAAK,CAACT,YAAa,GAAE,CAEjI,CAAC,8BAlB0BL,KAAK,CAACqB,SAAS,EAqB9C,GAAIC,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,KAAK,QAAM,CAC9BJ,OAAO,CAAEI,KAAK,CAACC,WAAW,CAACL,OAAO,CAClCC,MAAM,CAAEG,KAAK,CAACC,WAAW,CAACJ,MAAM,CAChCF,gBAAgB,CAAEK,KAAK,CAACE,IAAI,CAACZ,MAAM,CACnCa,MAAM,CAAEH,KAAK,CAACE,IAAI,CAACC,MACvB,CAAC,EAAC,CAEF,QAASC,WAAU,CAACf,gBAAgB,CAAE,CAClC,QAASgB,wBAAuB,CAACd,KAAK,CAAE,CACpC,GAAIe,SAAQ,CAAGtB,WAAW,EAAE,CAC5B,GAAIuB,SAAQ,CAAGtB,WAAW,EAAE,CAC5B,GAAIQ,OAAM,CAAGP,SAAS,EAAE,CACxB,mBACI,KAAC,gBAAgB,gCACTK,KAAK,MACT,MAAM,CAAE,CAAEe,QAAQ,CAARA,QAAQ,CAAEC,QAAQ,CAARA,QAAQ,CAAEd,MAAM,CAANA,MAAO,CAAE,GACzC,CAEV,CAEA,MAAOY,wBAAuB,CAClC,CACA,cAAejB,QAAO,CAClBT,OAAO,CAACoB,eAAe,CAAE,CAAClB,eAAe,CAAfA,eAAe,CAAED,SAAS,CAATA,SAAS,CAAEE,YAAY,CAAZA,YAAY,CAAC,CAAC,CACpEsB,UAAU,CACVjB,gBAAgB,CACf,CAACE,gBAAgB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}